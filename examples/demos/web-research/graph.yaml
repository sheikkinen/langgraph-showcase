version: "1.0"
name: web-research
description: Agent that researches topics using web search
prompts_relative: true
prompts_dir: prompts

state:
  topic: str

tools:
  search_web:
    type: python
    module: examples.shared.websearch
    function: search_web
    description: "Search the web for current information on any topic. Returns titles, URLs, and snippets."

nodes:
  research:
    type: agent
    prompt: researcher
    tools: [search_web]
    max_iterations: 5
    state_key: research

  summarize:
    type: llm
    prompt: summarize
    requires: [research]
    state_key: summary
    variables:
      research: "{state.research}"
      topic: "{state.topic}"

edges:
  - from: START
    to: research
  - from: research
    to: summarize
  - from: summarize
    to: END
