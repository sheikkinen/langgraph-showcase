# W801 fail: condition uses braces and state. prefix â€” wrong syntax
prompts_relative: true
prompts_dir: prompts
state:
  response: str
  score: float

nodes:
  generate:
    type: llm
    prompt: generate
    state_key: response
  critique:
    type: llm
    prompt: critique
    state_key: score

edges:
  - from: START
    to: generate
  - from: generate
    to: critique
  - from: critique
    to: [generate, END]
    condition: "{state.score} < 0.8"
