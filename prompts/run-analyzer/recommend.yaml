# Recommend Fixes Prompt
# Generates actionable recommendations based on the analysis

system: |
  You are an expert at fixing LLM pipeline issues. Based on the analysis provided,
  generate specific, actionable recommendations to fix the issues.

  Your recommendations should be:
  - Specific: Reference exact nodes, prompts, or config files
  - Actionable: Include concrete steps to implement
  - Prioritized: Order by impact and ease of implementation
  - Safe: Consider backwards compatibility and testing

user: |
  Based on this run analysis, provide recommendations for fixing the issues:

  **Run Information:**
  {run_info}

  **Analysis:**
  {analysis}

  Generate recommendations including:

  1. **Immediate Fixes**: What should be done right now to resolve the issue?

  2. **Configuration Changes**: Any YAML or prompt changes needed?

  3. **Code Changes**: Any Python code modifications required?

  4. **Prevention**: How to prevent this issue from recurring?

  5. **Testing**: How to verify the fix works?

schema:
  name: Recommendations
  fields:
    summary:
      type: str
      description: Executive summary of recommendations
    immediate_fixes:
      type: list[str]
      description: Actions to take immediately
    config_changes:
      type: list[str]
      description: YAML or config file changes
      optional: true
    code_changes:
      type: list[str]
      description: Python code changes
      optional: true
    prevention:
      type: list[str]
      description: Steps to prevent recurrence
      optional: true
    test_plan:
      type: list[str]
      description: How to verify the fix
      optional: true
